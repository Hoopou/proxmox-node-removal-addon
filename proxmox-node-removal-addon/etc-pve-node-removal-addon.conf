[general]
# Enable verbose debug logging for troubleshooting
debug = 0

# Timeout for VM/container migrations (in seconds)
migration_timeout = 600

# Maximum number of concurrent migrations
max_concurrent_migrations = 2

# Enable automatic system backups before node removal
backup_before_removal = 0

# Notification email (optional)
# notification_email = admin@example.com

[validation]
# Enforce minimum cluster size check
min_cluster_size = 3

# Validate data redundancy before removal
check_redundancy = 1

# Check Ceph placement groups before removal
check_ceph_pg_state = 1

# Require all VMs/containers be migrated before removal
require_empty_node = 1

[storage]
# Automatically handle local storage during node removal
handle_local_storage = 0

# Create snapshots before migrations
snapshot_before_migration = 0

# Storage targets for migration (comma-separated)
# storage_targets = ceph-rbd,nfs-storage

[ceph]
# Enable Ceph integration features
enable_ceph = 1

# Automatically remove Ceph OSDs
auto_remove_osds = 0

# Ceph rebalance timeout (in seconds)
ceph_rebalance_timeout = 1800

# Wait for Ceph rebalance to complete
wait_for_rebalance = 1

[logging]
# Log level: debug, info, warning, error
log_level = info

# Log file location
log_file = /var/log/pve/node-removal-addon.log

# Keep logs for (days)
log_retention = 30

# Log to syslog as well
use_syslog = 1

[security]
# Require confirmation for all operations
require_confirmation = 1

# Require double-confirmation for irreversible operations
double_confirmation = 1

# Log all operations to audit log
audit_logging = 1

# Allow force removal (bypass validation)
allow_force_removal = 0
